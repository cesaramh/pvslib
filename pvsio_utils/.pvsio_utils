;; THIS CODE BELONGS TO pp.lisp. IT REDEFINES HOW RATIONALS ARE PRINTED.
;; DON'T MESS WITH THIS CODE OR PVS COULD BREAK
(defmethod pp* ((ex rational-expr))
  (let ((nbr (number ex)))
    (if *in-evaluator*
      (let* ((precision  (pvsio_get_gvar_by_name "stdmath.PRECISION"))
	     (pprat      (pvsio_get_gvar_by_name "stdmath.PP_RATIONALS"))
	     (rat-prec   (if pprat precision -1)))
	(write (pp-rat nbr rat-prec)))
      (write nbr))))
